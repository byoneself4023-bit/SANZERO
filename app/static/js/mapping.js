// ============================================
// SANZERO 장해등급 예측 - 매핑 테이블
// ============================================

const MAPPING = {
    // 산업 분류
    industry: {
        '농업,임업및어업': 1,
        '광업': 2,
        '제조업': 3,
        '전기,가스,증기및공기조절공급업': 4,
        '수도,하수및폐기물처리,원료재생업': 5,
        '건설업': 6,
        '도매및소매업': 7,
        '운수및창고업': 8,
        '숙박및음식점업': 9,
        '정보통신업': 10,
        '금융및보험업': 11,
        '부동산업': 12,
        '전문,과학및기술서비스업': 13,
        '사업시설관리,사업지원및임대서비스업': 14,
        '공공행정,국방및사회보장행정': 15,
        '교육서비스업': 16,
        '보건업및사회복지서비스업': 17,
        '예술,스포츠및여가관련서비스업': 18,
        '협회및단체,수리및기타개인서비스업': 19,
        '가구내고용활동및달리분류되지않은자가소비생산활동': 20,
        '국제및외국기관': 21
    },

    // 나이 (연령대 → 중간값으로 변환)
    age: {
        '20대 이하': 25,
        '30대': 35,
        '40대': 45,
        '50대': 55,
        '60대': 65,
        '70대 이상': 75
    },

    // 성별
    gender: {
        '남자': 1,
        '여자': 2
    },

    // 부상 부위
    bodyPart: {
        '두부(뇌, 두개골, 두피)': 1,
        '눈': 2,
        '귀(내/외부)': 3,
        '안면부': 4,
        '목': 5,
        '팔': 6,
        '손, 손가락': 7,
        '가슴, 등': 8,
        '허리': 9,
        '엉덩이': 10,
        '다리': 11,
        '발, 발가락': 12,
        '복합부위': 13,
        '순환기관': 14,
        '호흡기관': 15,
        '소화기관': 16,
        '비뇨/생식기관': 17,
        '신경계통': 18,
        '복부': 19,
        '전신': 20,
        '기타': 21
    },

    // 부상 종류
    injuryType: {
        '골절': 1,
        '삐임': 2,
        '요통/근골격질환': 3,
        '절단': 4,
        '베임': 5,
        '찰과상': 6,
        '타박상/진탕': 7,
        '파열/열상': 8,
        '찔림': 9,
        '화상': 10,
        '동상': 11,
        '전염/중독': 12,
        '내부기관상해(뇌심혈관질환포함)': 13,
        '내부기관상해': 13,
        '기타': 14
    },

    // 치료 기간
    treatmentPeriod: {
        '3개월 이하': 1,
        '3개월 초과~6개월 이하': 2,
        '6개월 초과~9개월 이하': 3,
        '9개월 초과~1년 이하': 4,
        '1년 초과~2년 이하': 5,
        '2년 초과': 6
    },

    // 재해 유형
    accidentType: {
        '업무상 사고': 1,
        '업무상 질병': 2,
        '출퇴근 재해': 3
    }
};

// 헬퍼 함수: 텍스트 → 숫자 변환
function mapToCode(category, text) {
    if (!MAPPING[category]) {
        console.error(`Unknown category: ${category}`);
        return null;
    }
    
    const code = MAPPING[category][text];
    if (code === undefined) {
        console.error(`Unknown value for ${category}: ${text}`);
        return null;
    }
    
    return code;
}

// 전역으로 내보내기 (HTML에서 사용)
window.MAPPING = MAPPING;
window.INDUSTRY_MAPPING = MAPPING.industry; // 호환성을 위해 추가
window.mapToCode = mapToCode;