<?xml version="1.0" encoding="UTF-8"?>
<!-- 보상금 계산 페이지 -->
<page name="compensation-calculate" title="보상금 계산 - SANZERO">
  <layout type="main">
    <!-- 페이지 헤더 -->
    <section class="page-header">
      <container class="max-w-4xl mx-auto px-4 py-8">
        <breadcrumb>
          <link href="/">홈</link>
          <link href="/compensation">보상금 관리</link>
          <current>보상금 계산</current>
        </breadcrumb>

        <heading level="1" class="text-3xl font-bold text-gray-900 mb-2">
          AI 보상금 계산기
        </heading>
        <text class="text-gray-600">
          개인화된 정보를 바탕으로 예상 보상금을 계산해보세요
        </text>
      </container>
    </section>

    <container class="max-w-4xl mx-auto px-4">
      <grid class="grid-cols-1 lg:grid-cols-2 gap-8">
        <!-- 계산기 입력 폼 -->
        <card>
          <header class="mb-6">
            <title class="text-lg font-semibold">기본 정보 입력</title>
            <description>정확한 계산을 위해 필요한 정보를 입력해주세요</description>
          </header>

          <form id="compensation-calculator">
            <form-section>
              <field>
                <label required="true">월 기본급</label>
                <input name="base_salary" type="number" placeholder="4000000" required />
                <help-text>세전 기본급을 원 단위로 입력하세요</help-text>
              </field>

              <field>
                <label>월 수당 및 보너스</label>
                <input name="monthly_bonus" type="number" placeholder="200000" />
                <help-text>정기적인 수당 및 월 평균 보너스</help-text>
              </field>

              <field>
                <label required="true">부상 유형</label>
                <select name="injury_type" required>
                  <option value="">선택하세요</option>
                  <option value="골절">골절</option>
                  <option value="염좌">염좌</option>
                  <option value="절단">절단</option>
                  <option value="화상">화상</option>
                  <option value="타박상">타박상</option>
                  <option value="피부염">피부염</option>
                  <option value="기타">기타</option>
                </select>
              </field>

              <field>
                <label required="true">부상 심각도</label>
                <radio-group name="severity_level" required>
                  <radio value="minor">경상 (외래 치료)</radio>
                  <radio value="moderate">중상 (입원 치료)</radio>
                  <radio value="severe">중상 (수술 필요)</radio>
                  <radio value="critical">위중 (생명 위험)</radio>
                </radio-group>
              </field>

              <field>
                <label>예상 장애 등급</label>
                <select name="disability_grade">
                  <option value="">해당없음</option>
                  <option value="1급">1급 (가장 심각)</option>
                  <option value="2급">2급</option>
                  <option value="3급">3급</option>
                  <option value="4급">4급</option>
                  <option value="5급">5급</option>
                  <option value="6급">6급</option>
                  <option value="7급">7급 (경미)</option>
                </select>
                <help-text>의사 소견이 있는 경우 선택하세요</help-text>
              </field>

              <field>
                <label>예상 의료비</label>
                <input name="medical_costs" type="number" placeholder="500000" />
                <help-text>치료에 소요될 총 의료비 (원)</help-text>
              </field>

              <field>
                <label>업종 (선택)</label>
                <select name="industry_code">
                  <option value="">선택하세요</option>
                  <option value="62">정보통신업</option>
                  <option value="25">금속가공업</option>
                  <option value="20">화학물질제조업</option>
                  <option value="41">건설업</option>
                  <option value="56">음식서비스업</option>
                  <option value="기타">기타</option>
                </select>
                <help-text>업종별 위험도가 계산에 반영됩니다</help-text>
              </field>

              <button type="submit" class="primary w-full">
                보상금 계산하기
              </button>
            </form-section>
          </form>
        </card>

        <!-- 계산 결과 -->
        <card id="calculation-result" style="display: none;">
          <header class="mb-6">
            <title class="text-lg font-semibold flex items-center">
              <icon name="calculator" class="mr-2" />
              계산 결과
            </title>
          </header>

          <!-- 총 예상 보상금 -->
          <result-summary class="mb-6 p-6 bg-primary-50 rounded-lg border-l-4 border-primary-600">
            <label class="text-primary-700 text-sm font-medium">총 예상 보상금</label>
            <amount class="text-3xl font-bold text-primary-900" id="total-amount">
              6,050,000원
            </amount>
            <confidence class="text-sm text-primary-600 mt-1">
              신뢰도: 85% (AI 분석 기반)
            </confidence>
          </result-summary>

          <!-- 계산 세부 내역 -->
          <calculation-breakdown>
            <title class="font-semibold mb-4">계산 세부 내역</title>

            <breakdown-item>
              <label>기본 연봉 (월급 × 12개월)</label>
              <value id="base-amount">48,000,000원</value>
            </breakdown-item>

            <breakdown-item>
              <label>부상 심각도 배수 (중상)</label>
              <value>× 1.2</value>
            </breakdown-item>

            <breakdown-item>
              <label>장애 등급 배수 (해당없음)</label>
              <value>× 1.0</value>
            </breakdown-item>

            <breakdown-item>
              <label>업종 위험도 배수 (정보통신업)</label>
              <value>× 0.9</value>
            </breakdown-item>

            <breakdown-item>
              <label>지역 물가 배수 (서울)</label>
              <value>× 1.1</value>
            </breakdown-item>

            <breakdown-item class="border-t pt-2">
              <label>소계</label>
              <value>5,550,000원</value>
            </breakdown-item>

            <breakdown-item>
              <label>의료비</label>
              <value>+ 500,000원</value>
            </breakdown-item>

            <breakdown-item class="font-semibold border-t pt-2">
              <label>총 예상 보상금</label>
              <value class="text-primary-600">6,050,000원</value>
            </breakdown-item>
          </calculation-breakdown>

          <!-- AI 분석 정보 -->
          <ai-insights class="mt-6 p-4 bg-blue-50 rounded-lg">
            <title class="font-medium text-blue-900 mb-3">AI 분석 인사이트</title>

            <insight-item>
              <icon name="chart" class="text-blue-600" />
              <content>
                <title>유사 사례 분석</title>
                <description>비슷한 조건의 152건 중 평균 보상금: 5,850,000원</description>
              </content>
            </insight-item>

            <insight-item>
              <icon name="trend-up" class="text-green-600" />
              <content>
                <title>승인 가능성</title>
                <description>85% 확률로 승인 예상 (업종 평균 대비 높음)</description>
              </content>
            </insight-item>

            <insight-item>
              <icon name="clock" class="text-yellow-600" />
              <content>
                <title>예상 처리 기간</title>
                <description>7-14일 소요 예상 (복잡도: 보통)</description>
              </content>
            </insight-item>
          </ai-insights>

          <!-- 다음 단계 안내 -->
          <next-steps class="mt-6">
            <title class="font-semibold mb-4">다음 단계</title>

            <step-list>
              <step-item>
                <icon name="document" />
                <content>
                  <title>신청서 작성</title>
                  <description>계산 결과를 바탕으로 정식 신청서를 작성하세요</description>
                </content>
                <button href="/compensation/apply" class="primary-outline">신청하기</button>
              </step-item>

              <step-item>
                <icon name="users" />
                <content>
                  <title>노무사 상담</title>
                  <description>전문가 상담을 통해 더 정확한 정보를 얻으세요</description>
                </content>
                <button href="/lawyers" class="secondary">상담 예약</button>
              </step-item>

              <step-item>
                <icon name="brain" />
                <content>
                  <title>AI 분석</title>
                  <description>판례 분석과 장애 등급 예측을 받아보세요</description>
                </content>
                <button href="/analysis" class="secondary">분석 받기</button>
              </step-item>
            </step-list>
          </next-steps>
        </card>

        <!-- 계산 가이드 (결과 전 표시) -->
        <card id="calculation-guide">
          <header class="mb-6">
            <title class="text-lg font-semibold">계산 방법 안내</title>
          </header>

          <guide-content>
            <guide-section>
              <title class="font-medium mb-2">보상금 계산 공식</title>
              <formula class="p-3 bg-gray-100 rounded text-sm font-mono">
                (기본연봉 × 부상배수 × 장애배수 × 업종배수 × 지역배수) + 의료비
              </formula>
            </guide-section>

            <guide-section>
              <title class="font-medium mb-2">부상 심각도별 배수</title>
              <list>
                <item>경상: 1.0배</item>
                <item>중상: 1.2배</item>
                <item>중상 (수술): 1.5배</item>
                <item>위중: 2.0배</item>
              </list>
            </guide-section>

            <guide-section>
              <title class="font-medium mb-2">장애 등급별 배수</title>
              <list>
                <item>1급: 3.0배</item>
                <item>2급: 2.5배</item>
                <item>3급: 2.0배</item>
                <item>4급: 1.8배</item>
                <item>5급 이하: 1.5배</item>
              </list>
            </guide-section>

            <disclaimer class="mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded">
              <title class="font-medium text-yellow-800">주의사항</title>
              <text class="text-sm text-yellow-700">
                이 계산 결과는 예상 금액이며, 실제 보상금은 심사 결과에 따라 달라질 수 있습니다.
              </text>
            </disclaimer>
          </guide-content>
        </card>
      </grid>
    </container>
  </layout>
</page>